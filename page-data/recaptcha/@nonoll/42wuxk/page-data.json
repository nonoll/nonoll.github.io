{"componentChunkName":"component---src-templates-post-template-jsx","path":"/recaptcha/@nonoll/42wuxk","result":{"data":{"site":{"siteMetadata":{"title":"nonoll","subtitle":"nonoll","author":{"name":"nonoll","twitter":""},"disqusShortname":"nonoll-github-io","url":"https://nonoll.github.io/"}},"markdownRemark":{"id":"92083d96-c438-562c-a22e-bc4f3451c4b0","html":"<h1>ReCAPTCHA - IE9 Error ReCAPTCHA placeholder element must be empty</h1>\n<h2>1. recaptcha 적용 Script</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">function G_RECAPTCHA_CALL_BACK() {\n    window.grecaptcha.render(&#39;recaptcha&#39;, {\n        sitekey : &#39;SITE_KEY&#39;,\n        size : &#39;normal&#39;,\n        theme : &#39;light&#39;\n    });\n}\n \nvar tag = $(&#39;&lt;script/&gt;&#39;).attr(&#39;src&#39;, &#39;https://www.google.com/recaptcha/api.js?onload=G_RECAPTCHA_CALL_BACK&amp;render=explicit&#39;);\n$(&#39;head&#39;).append(tag);</code></pre></div>\n<h2>2. 발생이슈</h2>\n<h3>2-1. ie9 에서 발생</h3>\n<h3>2-2. 발생 에러</h3>\n<ul>\n<li>ReCAPTCHA placeholder element must be empty</li>\n<li>또는 Invalid ReCAPTCHA client id: undefined</li>\n</ul>\n<h2>3. 이슈 원인</h2>\n<h3>3-1. ie9 에서 callback 이 2번 호출되는 현상 확인</h3>\n<h3>4. 이슈 대응 코드</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">var hasRecaptcha = false;\nfunction G_RECAPTCHA_CALL_BACK() {\n    if (hasRecaptcha) {\n        return;\n    }\n \n    hasRecaptcha = true;\n    window.grecaptcha.render(&#39;recaptcha&#39;, {\n        sitekey : &#39;SITE_KEY&#39;,\n        size : &#39;normal&#39;,\n        theme : &#39;light&#39;\n    });\n}\n \nvar tag = $(&#39;&lt;script/&gt;&#39;).attr(&#39;src&#39;, &#39;https://www.google.com/recaptcha/api.js?onload=G_RECAPTCHA_CALL_BACK&amp;render=explicit&#39;);\n$(&#39;head&#39;).append(tag);</code></pre></div>","fields":{"tagSlugs":["/tags/kr/","/tags/javascript/","/tags/ie-9/","/tags/busy/"]},"frontmatter":{"title":"ReCAPTCHA - IE9 Error ReCAPTCHA placeholder element must be empty","tags":["kr","javascript","ie9","busy"],"date":"2018-02-27T05:35:57Z","description":"ReCAPTCHA - IE9 Error ReCAPTCHA placeholder element must be empty 1. recaptcha 적용 Script  function GRECAPTCHACALL_BACK() {     window.grecaptcha.render('recaptcha', {         sitekey : 'SITE_KEY',..."}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/recaptcha/@nonoll/42wuxk"}}}